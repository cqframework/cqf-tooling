<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <identifier id="Salmonella_Typhi_organism" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.0"/>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
   </usings>
   <includes>
      <def localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.0.0"/>
   </includes>
   <codeSystems>
      <def name="Condition Category Codes" id="http://terminology.hl7.org/CodeSystem/condition-category" accessLevel="Public"/>
      <def name="Condition Clinical Status Codes" id="http://terminology.hl7.org/CodeSystem/condition-clinical" accessLevel="Public"/>
      <def name="ObservationStatus" id="http://hl7.org/fhir/observation-status" accessLevel="Public"/>
   </codeSystems>
   <valueSets>
      <def name="Abdominal Cramps" id="https://hln.com/fhir/ValueSet/SYMP011" accessLevel="Public"/>
      <def name="Anorexia" id="https://hln.com/fhir/ValueSet/SYMP015" accessLevel="Public"/>
      <def name="S. Typhi Infection (Tests for S. Typhi Antibody)" id="https://hln.com/fhir/ValueSet/STI003" accessLevel="Public"/>
      <def name="Present or Positive Lab Result Value" id="https://hln.com/fhir/ValueSet/LabRLT001" accessLevel="Public"/>
      <def name="S. Typhi Infection (Organism or Substance in Lab Results)" id="https://hln.com/fhir/ValueSet/STI001" accessLevel="Public"/>
      <def name="Abnormal Interpretation of an Observation" id="https://hln.com/fhir/ValueSet/LabRLT002" accessLevel="Public"/>
      <def name="S. Typhi Infection (Tests for S. Typhi Nucleic Acid)" id="https://hln.com/fhir/ValueSet/STI004" accessLevel="Public"/>
      <def name="Organisms (Tests for Nucleic Acid)" id="https://hln.com/fhir/ValueSet/LabTST018" accessLevel="Public"/>
      <def name="Diarrhea" id="https://hln.com/fhir/ValueSet/SYMP012" accessLevel="Public"/>
      <def name="S. Typhi Infection (Tests for S. Typhi by Culture and Identification Method)" id="https://hln.com/fhir/ValueSet/STI005" accessLevel="Public"/>
      <def name="Salmonellosis (Tests for Salmonella except S. typhi and S. paratyphi by Culture and Identification Method)" id="https://hln.com/fhir/ValueSet/SAL005" accessLevel="Public"/>
      <def name="Bacteria (Tests by Culture and Identification Method)" id="https://hln.com/fhir/ValueSet/LabTST001" accessLevel="Public"/>
      <def name="S. Typhi Infection (Disorders)" id="https://hln.com/fhir/ValueSet/STI002" accessLevel="Public"/>
   </valueSets>
   <codes>
      <def name="Encounter Diagnosis" id="encounter-diagnosis" display="Encounter Diagnosis" accessLevel="Public">
         <codeSystem name="Condition Category Codes"/>
      </def>
      <def name="Problem" id="problem-list-item" display="Problem List Item" accessLevel="Public">
         <codeSystem name="Condition Category Codes"/>
      </def>
      <def name="Active" id="active" display="Active" accessLevel="Public">
         <codeSystem name="Condition Clinical Status Codes"/>
      </def>
      <def name="Final" id="final" display="Final" accessLevel="Public">
         <codeSystem name="ObservationStatus"/>
      </def>
      <def name="Amended" id="amended" display="Amended" accessLevel="Public">
         <codeSystem name="ObservationStatus"/>
      </def>
   </codes>
   <contexts>
      <def name="Patient"/>
   </contexts>
   <statements>
      <def name="Patient has a diagnosis of-63a816452dbfa5649772ad264359064b" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Encounter Diagnosis" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Abdominal Cramps"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a problem of-3e9e51797a76358df7381b648500238b" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Abdominal Cramps"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Problem has status of-e6a2b5b87bb1da6937282e034d27a1ec" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="Equivalent">
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand name="Active" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Group 1-1d4c0e98dfb4a8e9c2cdaf43aaf0bea2" context="Patient" accessLevel="Public">
         <expression xsi:type="And">
            <operand name="Problem has status of-e6a2b5b87bb1da6937282e034d27a1ec" xsi:type="ExpressionRef"/>
            <operand name="Patient has a problem of-3e9e51797a76358df7381b648500238b" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def name="Patient has a diagnosis of-92e09dc6a56dc22c3d35107b34b19e74" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Encounter Diagnosis" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Anorexia"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a problem of-dd627a1a39486aa845dd9269816d1e97" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Anorexia"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Problem has status of-cc081d88166d1ab3b1b147c1dfc5af01" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="Equivalent">
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand name="Active" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Group 1-cd822d0894d407462e40ca8dd2976d1b" context="Patient" accessLevel="Public">
         <expression xsi:type="And">
            <operand name="Problem has status of-cc081d88166d1ab3b1b147c1dfc5af01" xsi:type="ExpressionRef"/>
            <operand name="Patient has a problem of-dd627a1a39486aa845dd9269816d1e97" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def name="Patient has lab result with test name (specific for an organism or substance)-5eac50bb595172815b989dad948ab9ac" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <return>
                        <expression path="code" scope="O" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Tests for S. Typhi Antibody)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (ordinal)-9dd0170357f9e82ffbd5200023f4d75a" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Present or Positive Lab Result Value"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (nominal)-c65b6f0c1a29b7754f0be48ceecb6825" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Organism or Substance in Lab Results)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Interpretation-e5d7df8c646a514184c7ca55958a3c41" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Flatten">
                     <operand xsi:type="Query">
                        <source alias="O">
                           <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                        </source>
                        <return>
                           <expression path="interpretation" scope="O" xsi:type="Property"/>
                        </return>
                     </operand>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Abnormal Interpretation of an Observation"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has lab result with test name (specific for an organism or substance)-bd7e38302684fa9dabfc7c87400aa897" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <return>
                        <expression path="code" scope="O" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Tests for S. Typhi Nucleic Acid)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (ordinal)-a13cb243a6b7ad7bce3f7774d1f495e6" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Present or Positive Lab Result Value"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (nominal)-c7c4fee2c9ae1a114242767138cf59bf" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Organism or Substance in Lab Results)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Interpretation-ea094f859d53dad170d1149912fb116b" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Flatten">
                     <operand xsi:type="Query">
                        <source alias="O">
                           <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                        </source>
                        <return>
                           <expression path="interpretation" scope="O" xsi:type="Property"/>
                        </return>
                     </operand>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Abnormal Interpretation of an Observation"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has lab result with test name (NOT specific for an organism or substance)-dc51bbf582ccd544e1d4af6394d34908" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <return>
                        <expression path="code" scope="O" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Organisms (Tests for Nucleic Acid)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (nominal)-592ca46431917e63a01be233343e7247" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Organism or Substance in Lab Results)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a diagnosis of-99a7db537f7d13cd25cb8f71993a27cd" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Encounter Diagnosis" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Diarrhea"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a problem of-1b48cf5761e54b0bc7b292557de99a5c" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Diarrhea"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Problem has status of-9fb4339b685aa5c527ce6a2b2ed0a057" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="Equivalent">
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand name="Active" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Group 1-a2da5b06c2299dbcad140dd9c3048848" context="Patient" accessLevel="Public">
         <expression xsi:type="And">
            <operand name="Problem has status of-9fb4339b685aa5c527ce6a2b2ed0a057" xsi:type="ExpressionRef"/>
            <operand name="Patient has a problem of-1b48cf5761e54b0bc7b292557de99a5c" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def name="Patient has lab result with test name (specific for an organism or substance)-8e42937e2277b1dd3d7f0ab70d3613c1" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <return>
                        <expression path="code" scope="O" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Tests for S. Typhi by Culture and Identification Method)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (ordinal)-f5aa741d69814097e112882cc3f93830" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Present or Positive Lab Result Value"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (nominal)-2cfd1f6fbe5bed677bfb0d1e5f671c07" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Organism or Substance in Lab Results)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Interpretation-4e2b1311daee0025af377f373b00c01e" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Flatten">
                     <operand xsi:type="Query">
                        <source alias="O">
                           <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                        </source>
                        <return>
                           <expression path="interpretation" scope="O" xsi:type="Property"/>
                        </return>
                     </operand>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Abnormal Interpretation of an Observation"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has lab result with test name (NOT specific for an organism or substance)-b9d8b67092f75636ea21404758f1a4cd" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <return>
                        <expression path="code" scope="O" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="Bacteria (Tests by Culture and Identification Method)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Lab Result Value (nominal)-eaa251a3957e98d4a8c8f01ad29afe95" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="O">
                        <expression dataType="fhir:Observation" xsi:type="Retrieve"/>
                     </source>
                     <where xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="Observation.status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="List">
                                 <element name="Final" xsi:type="CodeRef"/>
                                 <element name="Amended" xsi:type="CodeRef"/>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="code" scope="$this" xsi:type="Property"/>
                              </operand>
                           </where>
                           <return>
                              <expression path="code" scope="$this" xsi:type="Property"/>
                           </return>
                        </operand>
                     </where>
                     <return>
                        <expression strict="false" xsi:type="As">
                           <operand path="value" scope="O" xsi:type="Property"/>
                           <asTypeSpecifier name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Organism or Substance in Lab Results)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a diagnosis of-27ca28e3d637dd3f89b9e937be53497b" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Encounter Diagnosis" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Disorders)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Patient has a problem of-fe614bde7ab28ec95f78a36d69de9857" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="code" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </code>
                  <valueset name="S. Typhi Infection (Disorders)"/>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Problem has status of-9462bff4e9a545d9452c960d043b78ca" context="Patient" accessLevel="Public">
         <expression xsi:type="Exists">
            <operand xsi:type="Query">
               <source alias="Alias">
                  <expression xsi:type="Query">
                     <source alias="C">
                        <expression dataType="fhir:Condition" codeProperty="category" codeComparator="~" xsi:type="Retrieve">
                           <codes xsi:type="ToList">
                              <operand name="Problem" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <return>
                        <expression path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </return>
                  </expression>
               </source>
               <where xsi:type="Equivalent">
                  <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand name="Alias" xsi:type="AliasRef"/>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand name="Active" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def name="Group 1-2e20f08a40266356d89e07f45c08a7f3" context="Patient" accessLevel="Public">
         <expression xsi:type="And">
            <operand name="Problem has status of-9462bff4e9a545d9452c960d043b78ca" xsi:type="ExpressionRef"/>
            <operand name="Patient has a problem of-fe614bde7ab28ec95f78a36d69de9857" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def name="ConditionCriteriaMet" context="Patient" accessLevel="Public">
         <expression xsi:type="Or">
            <operand xsi:type="And">
               <operand xsi:type="Or">
                  <operand xsi:type="And">
                     <operand xsi:type="And">
                        <operand xsi:type="Or">
                           <operand xsi:type="Or">
                              <operand xsi:type="Or">
                                 <operand xsi:type="And">
                                    <operand xsi:type="Or">
                                       <operand xsi:type="Or">
                                          <operand xsi:type="Or">
                                             <operand xsi:type="And">
                                                <operand xsi:type="Or">
                                                   <operand xsi:type="Or">
                                                      <operand xsi:type="And">
                                                         <operand xsi:type="And">
                                                            <operand xsi:type="Or">
                                                               <operand xsi:type="Or">
                                                                  <operand xsi:type="Or">
                                                                     <operand xsi:type="And">
                                                                        <operand xsi:type="Or">
                                                                           <operand xsi:type="Or">
                                                                              <operand name="Group 1-2e20f08a40266356d89e07f45c08a7f3" xsi:type="ExpressionRef"/>
                                                                              <operand name="Patient has a diagnosis of-27ca28e3d637dd3f89b9e937be53497b" xsi:type="ExpressionRef"/>
                                                                           </operand>
                                                                           <operand name="Lab Result Value (nominal)-eaa251a3957e98d4a8c8f01ad29afe95" xsi:type="ExpressionRef"/>
                                                                        </operand>
                                                                        <operand name="Patient has lab result with test name (NOT specific for an organism or substance)-b9d8b67092f75636ea21404758f1a4cd" xsi:type="ExpressionRef"/>
                                                                     </operand>
                                                                     <operand name="Lab Result Interpretation-4e2b1311daee0025af377f373b00c01e" xsi:type="ExpressionRef"/>
                                                                  </operand>
                                                                  <operand name="Lab Result Value (nominal)-2cfd1f6fbe5bed677bfb0d1e5f671c07" xsi:type="ExpressionRef"/>
                                                               </operand>
                                                               <operand name="Lab Result Value (ordinal)-f5aa741d69814097e112882cc3f93830" xsi:type="ExpressionRef"/>
                                                            </operand>
                                                            <operand name="Patient has lab result with test name (specific for an organism or substance)-8e42937e2277b1dd3d7f0ab70d3613c1" xsi:type="ExpressionRef"/>
                                                         </operand>
                                                         <operand name="Group 1-a2da5b06c2299dbcad140dd9c3048848" xsi:type="ExpressionRef"/>
                                                      </operand>
                                                      <operand name="Patient has a diagnosis of-99a7db537f7d13cd25cb8f71993a27cd" xsi:type="ExpressionRef"/>
                                                   </operand>
                                                   <operand name="Lab Result Value (nominal)-592ca46431917e63a01be233343e7247" xsi:type="ExpressionRef"/>
                                                </operand>
                                                <operand name="Patient has lab result with test name (NOT specific for an organism or substance)-dc51bbf582ccd544e1d4af6394d34908" xsi:type="ExpressionRef"/>
                                             </operand>
                                             <operand name="Lab Result Interpretation-ea094f859d53dad170d1149912fb116b" xsi:type="ExpressionRef"/>
                                          </operand>
                                          <operand name="Lab Result Value (nominal)-c7c4fee2c9ae1a114242767138cf59bf" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand name="Lab Result Value (ordinal)-a13cb243a6b7ad7bce3f7774d1f495e6" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand name="Patient has lab result with test name (specific for an organism or substance)-bd7e38302684fa9dabfc7c87400aa897" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand name="Lab Result Interpretation-e5d7df8c646a514184c7ca55958a3c41" xsi:type="ExpressionRef"/>
                              </operand>
                              <operand name="Lab Result Value (nominal)-c65b6f0c1a29b7754f0be48ceecb6825" xsi:type="ExpressionRef"/>
                           </operand>
                           <operand name="Lab Result Value (ordinal)-9dd0170357f9e82ffbd5200023f4d75a" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand name="Patient has lab result with test name (specific for an organism or substance)-5eac50bb595172815b989dad948ab9ac" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand name="Group 1-cd822d0894d407462e40ca8dd2976d1b" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand name="Patient has a diagnosis of-92e09dc6a56dc22c3d35107b34b19e74" xsi:type="ExpressionRef"/>
               </operand>
               <operand name="Group 1-1d4c0e98dfb4a8e9c2cdaf43aaf0bea2" xsi:type="ExpressionRef"/>
            </operand>
            <operand name="Patient has a diagnosis of-63a816452dbfa5649772ad264359064b" xsi:type="ExpressionRef"/>
         </expression>
      </def>
   </statements>
</library>
